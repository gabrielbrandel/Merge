import{j as t,r as y,R as de}from"./index-DsFzQ49m.js";import{c as P,b as Fe,C as _e,e as Ue,a as Re,g as Ye,h as Je,i as Se,j as ae,l as A,k as Qe,f as ke,d as Xe}from"./FormatData-Dk9WKsgV.js";import{C as Ae,a as J,b as U,c as qe,d as et,e as Ne,f as tt,g as ce,h as at,i as rt}from"./CPaginationItem-BGLa6afM.js";import{e as fe,C as Ve,f as Te}from"./DefaultLayout-BabZRsAD.js";var nt=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='227.313 363.313 312 278.627 396.687 363.313 419.313 340.687 334.627 256 419.313 171.313 396.687 148.687 312 233.373 227.313 148.687 204.687 171.313 289.373 256 204.687 340.687 227.313 363.313' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M472,64H194.644a24.091,24.091,0,0,0-17.42,7.492L16,241.623v28.754L177.224,440.508A24.091,24.091,0,0,0,194.644,448H472a24.028,24.028,0,0,0,24-24V88A24.028,24.028,0,0,0,472,64Zm-8,352H198.084L48,257.623v-3.246L198.084,96H464Z' class='ci-primary'/>"];const it=({handleCancel:e})=>t.jsxs(t.Fragment,{children:[t.jsx(P,{xs:12,sm:6,md:4,lg:2,className:"mb-3",children:t.jsx(fe,{color:"success",type:"submit",style:{width:"100%",backgroundColor:"#2E8B57",borderColor:"#2E8B57",color:"white"},children:"Cadastrar"})}),t.jsx(P,{xs:12,sm:6,md:4,lg:2,className:"mb-3",children:t.jsx(fe,{color:"danger",type:"reset",style:{width:"100%",backgroundColor:"#da5b5a",borderColor:"#da5b5a",color:"white"},onClick:e,children:"Fechar"})})]}),ot=new Date().toISOString().split("T")[0],st=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],lt=({openModal:e})=>{y.useState("");const[a,r]=y.useState([]),[n,o]=y.useState(null),[s,d]=y.useState("asc"),[x,C]=y.useState(1),[S,D]=y.useState(10),[h,j]=y.useState(!1),[b,v]=y.useState(!1),[p,N]=y.useState(1),u=25,[B,_]=y.useState(null),[L,W]=y.useState({fkIdOrdemServico:"",categoria:"",descricaoEquipe:"",nomeUsuario:"",motivo:"",status:"",versao:"",dataHora:""}),H=(i,M)=>{W({...L,[i]:M.toLowerCase()})},Q=i=>{_(B===i?null:i)},G=[...a].sort((i,M)=>i[n]<M[n]?s==="asc"?-1:1:i[n]>M[n]?s==="asc"?1:-1:0).filter(i=>{var M;return((M=i.fkIdOrdemServico)==null?void 0:M.toString().includes(L.fkIdOrdemServico))&&(typeof i.categoria=="string"?i.categoria.toLowerCase():"").includes(L.categoria)&&(typeof i.descricaoEquipe=="string"?i.descricaoEquipe.toLowerCase():"").includes(L.descricaoEquipe)&&(i.nomeUsuario&&Array.isArray(i.nomeUsuario)?i.nomeUsuario.some($=>$.toLowerCase().includes(L.nomeUsuario.toLowerCase())):"")&&(i.motivo&&Array.isArray(i.motivo)?i.motivo.some($=>$.toLowerCase().includes(L.motivo.toLowerCase())):"")&&(i.status&&Array.isArray(i.status)?i.status.some($=>$.toLowerCase().includes(L.status.toLowerCase())):"")&&(i.versao&&Array.isArray(i.versao)?i.versao.some($=>{if(!isNaN(Date.parse($))){const ge=new Date($).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}),l=new Date(L.versao).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"});return ge===l}return $.toLowerCase().includes(L.versao.toLowerCase())}):"")}),Y=Math.ceil(G.length/S),[q,ee]=y.useState(localStorage.getItem("startDate")||st),[Z,re]=y.useState(localStorage.getItem("endDate")||ot),se=()=>{p+u<=Y&&(N(p+u),C(p+u))},g=()=>{p-u>0?(N(p-u),C(p-u)):(N(1),C(1))};y.useEffect(()=>{localStorage.setItem("startDate",q)},[q]),y.useEffect(()=>{localStorage.setItem("endDate",Z)},[Z]);const f=i=>{D(i)},E=i=>{ee(i)},O=i=>{re(i)},k=()=>{j(!0)},R=()=>{j(!1)},T=async()=>{try{v(!0);let i="Merges";q&&Z&&(i+=`?startDate=${q}&endDate=${Z}`);const M=await Xe.get(i);r(M.data)}catch(i){console.error("Error fetching customers:",i)}finally{v(!1)}};y.useEffect(()=>{T()},[]);const K=i=>{const M=n===i&&s==="asc"?"desc":"asc";o(i),d(M)},ve=x*S,le=ve-S,me=G.slice(le,ve),xe=i=>{C(i)},pe=[...Array(u)].map((i,M)=>{const $=p+M;return $<=Y?$:null}).filter(i=>i!==null),ye=i=>{switch(i){case"BUG DE IMPACTO":return"#8B0000";case"BUG SEM IMPACTO":return"#DAA520";case"ERRO INTERNO":return"#DAA520";case"ALTERACAO DO SISTEMA":return"#228B22";default:return"#483D8B"}},De=i=>{switch(i){case"IMPLEMENTACAO":return"11px";default:return"13px"}},Ie=i=>i===void 0?"none":"";return t.jsx(Fe,{children:t.jsx(P,{xs:12,md:12,lg:12,children:t.jsxs(_e,{className:"mb-4",children:[t.jsx(Ue,{children:t.jsx("strong",{children:"Controle de Merges"})}),t.jsxs(Ae,{className:"mb-3",style:{marginLeft:"20px",marginTop:"20px"},children:[t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",style:{marginLeft:"10px"},children:"Início"}),t.jsx(U,{type:"date",id:"validationCustom05",value:q,onChange:i=>E(i.target.value)})]}),t.jsxs(P,{md:2,style:{marginLeft:"5px"},children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Final"}),t.jsx(U,{type:"date",id:"validationCustom05",value:Z,onChange:i=>O(i.target.value)})]}),t.jsxs(P,{md:2,style:{marginLeft:"5px",width:"80px"},children:[t.jsx(J,{htmlFor:"validationCustom05",style:{marginLeft:"10px"},children:"Linhas"}),t.jsxs(qe,{onChange:i=>f(Number(i.target.value)),children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]})]}),t.jsx(fe,{color:"terciary",type:"submit",onMouseDown:k,onMouseUp:R,onClick:()=>{T()},disabled:b,style:{height:"36px",backgroundColor:"#2E8B57",borderColor:"#2E8B57",color:"white",borderRadius:"8px",marginLeft:"20px",marginTop:"32px",padding:"0 12px",display:"flex",justifyContent:"center",alignItems:"center",transition:"transform 0.2s ease",transform:h?"scale(0.95)":"scale(1)"},children:b?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm","aria-hidden":"true"}),t.jsx("span",{role:"status",style:{marginLeft:"8px"},children:"Carregando..."})]}):"Filtrar"})]}),t.jsxs(Re,{children:[t.jsxs(Ye,{style:{width:"auto",tableLayout:"auto"},children:[t.jsxs(Je,{children:[t.jsxs(Se,{children:[t.jsxs(ae,{style:{width:"110px"},scope:"col",onClick:()=>K("fkIdOrdemServico"),children:["O.S ",n==="fkIdOrdemServico"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{style:{width:"120px"},scope:"col",onClick:()=>K("categoria"),children:["Categoria ",n==="categoria"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{scope:"col",onClick:()=>K("descricaoEquipe"),children:["Equipe ",n==="descricaoEquipe"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{scope:"col",onClick:()=>K("nomeUsuario"),children:["Usuário ",n==="nomeUsuario"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{style:{width:"400px"},scope:"col",onClick:()=>K("motivo"),children:["Motivo ",n==="motivo"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{style:{width:"100px"},scope:"col",onClick:()=>K("status"),children:["Status ",n==="status"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{scope:"col",onClick:()=>K("versao"),children:["Data Versão ",n==="versao"&&(s==="asc"?"↑":"↓")]}),t.jsxs(ae,{scope:"col",onClick:()=>K("dataHora"),children:["Data ",n==="dataHora"&&(s==="asc"?"↑":"↓")]}),t.jsx(ae,{scope:"col"})]}),t.jsxs(Se,{children:[t.jsx(A,{children:t.jsx(U,{onChange:i=>H("fkIdOrdemServico",i.target.value)})}),t.jsx(A,{children:t.jsx(U,{onChange:i=>H("categoria",i.target.value)})}),t.jsx(A,{children:t.jsx(U,{onChange:i=>H("descricaoEquipe",i.target.value)})}),t.jsx(A,{children:t.jsx(U,{onChange:i=>H("nomeUsuario",i.target.value)})}),t.jsx(A,{children:t.jsx(U,{onChange:i=>H("motivo",i.target.value)})}),t.jsx(A,{children:t.jsx(U,{onChange:i=>H("status",i.target.value)})}),t.jsx(A,{children:t.jsx(U,{onChange:i=>H("versao",i.target.value)})}),t.jsx(A,{}),t.jsx(A,{})]})]}),t.jsx(Qe,{children:me.map(i=>{var M;return t.jsxs(de.Fragment,{children:[t.jsxs(Se,{children:[t.jsx(A,{children:i.fkIdOrdemServico}),t.jsx(A,{style:{textAlign:"left",verticalAlign:"middle",width:"170px",height:"40px"},children:t.jsx("span",{style:ye(i.categoria)!=="primary"?{backgroundColor:ye(i.categoria),color:"white",padding:"2px 5px",borderRadius:"3px",fontWeight:"bold",fontSize:De(i.categoria),display:"inline-block",lineHeight:"normal",textAlign:"center",paddingTop:"6px",height:"40px",width:"110px"}:{},children:i.categoria})}),t.jsx(A,{children:i.descricaoEquipe}),t.jsx(A,{children:i.nomeUsuario[0]}),t.jsx(A,{children:i.motivo[0]}),t.jsx(A,{children:i.status[0]}),t.jsx(A,{children:i.versao[0]}),t.jsx(A,{children:ke(i.dataHora[0])}),t.jsx(A,{children:t.jsx(fe,{style:{display:Ie(i.nomeUsuario[1])},color:"primary",variant:"outline",size:"sm",onClick:()=>Q(i.fkIdOrdemServico),children:B===i.fkIdOrdemServico?"Recolher":"Expandir"})})]},i.fkIdOrdemServico),B===i.fkIdOrdemServico&&t.jsx(t.Fragment,{children:(M=i.nomeUsuario)==null?void 0:M.slice(1).map(($,X)=>{var ge,l,c,m,I;return t.jsxs(Se,{children:[" ",t.jsx(A,{children:""}),t.jsx(A,{children:""}),t.jsx(A,{children:""}),t.jsx(A,{children:((ge=i.nomeUsuario)==null?void 0:ge[X+1])||""})," ",t.jsx(A,{children:((l=i.motivo)==null?void 0:l[X+1])||""}),t.jsx(A,{children:((c=i.status)==null?void 0:c[X+1])||""}),t.jsx(A,{children:((m=i.versao)==null?void 0:m[X+1])||""}),t.jsx(A,{children:(I=i.dataHora)!=null&&I[X+1]?ke(i.dataHora[X+1]):""})]},X+1)})})]},i.fkIdOrdemServico)})})]}),t.jsx(P,{md:12,children:t.jsxs(et,{align:"center","aria-label":"Page navigation example",children:[t.jsx(Ne,{disabled:p===1,onClick:g,children:"Anterior"}),pe.map(i=>t.jsx(Ne,{active:i===x,onClick:()=>xe(i),children:i},i)),t.jsx(Ne,{disabled:p+u>Y,onClick:se,children:"Próximo"})]})})]})]})})})};function He(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)a.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}var Ce;(function(e){e.event="event",e.props="prop"})(Ce||(Ce={}));function oe(){}function ct(e){var a,r=void 0;return function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return a&&n.length===a.length&&n.every(function(s,d){return s===a[d]})||(a=n,r=e.apply(void 0,n)),r}}function je(e){return!!(e||"").match(/\d/)}function he(e){return e==null}function dt(e){return typeof e=="number"&&isNaN(e)}function Ge(e){return he(e)||dt(e)||typeof e=="number"&&!isFinite(e)}function Ke(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ut(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function ft(e,a,r){var n=ut(r),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(n,"$1"+a)}function vt(e){var a=y.useRef(e);a.current=e;var r=y.useRef(function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return a.current.apply(a,n)});return r.current}function Oe(e,a){a===void 0&&(a=!0);var r=e[0]==="-",n=r&&a;e=e.replace("-","");var o=e.split("."),s=o[0],d=o[1]||"";return{beforeDecimal:s,afterDecimal:d,hasNegation:r,addNegation:n}}function mt(e){if(!e)return e;var a=e[0]==="-";a&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",o=r[1]||"";return(a?"-":"")+n+(o?"."+o:"")}function $e(e,a,r){for(var n="",o=r?"0":"",s=0;s<=a-1;s++)n+=e[s]||o;return n}function Be(e,a){return Array(a+1).join(e)}function We(e){var a=e+"",r=a[0]==="-"?"-":"";r&&(a=a.substring(1));var n=a.split(/[eE]/g),o=n[0],s=n[1];if(s=Number(s),!s)return r+o;o=o.replace(".","");var d=1+s,x=o.length;return d<0?o="0."+Be("0",Math.abs(d))+o:d>=x?o=o+Be("0",d-x):o=(o.substring(0,d)||"0")+"."+o.substring(d),r+o}function Le(e,a,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&a,o=Oe(e),s=o.beforeDecimal,d=o.afterDecimal,x=o.hasNegation,C=parseFloat("0."+(d||"0")),S=d.length<=a?"0."+d:C.toFixed(a),D=S.split("."),h=s;s&&Number(D[0])&&(h=s.split("").reverse().reduce(function(p,N,u){return p.length>u?(Number(p[0])+Number(N)).toString()+p.substring(1,p.length):N+p},D[0]));var j=$e(D[1]||"",a,r),b=x?"-":"",v=n?".":"";return""+b+h+v+j}function ue(e,a){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",a),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(a,a),!0):(e.focus(),!1)}}var Ze=ct(function(e,a){for(var r=0,n=0,o=e.length,s=a.length;e[r]===a[r]&&r<o;)r++;for(;e[o-1-n]===a[s-1-n]&&s-n>r&&o-n>r;)n++;return{from:{start:r,end:o-n},to:{start:r,end:s-n}}}),gt=function(e,a){var r=Math.min(e.selectionStart,a);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:a}}};function ht(e,a,r){return Math.min(Math.max(e,a),r)}function Ee(e){return Math.max(e.selectionStart,e.selectionEnd)}function xt(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function pt(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Ct(e){var a=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,o=e.formattedValueIndex;return a[n]===r[o]}function jt(e,a,r,n,o,s,d){d===void 0&&(d=Ct);var x=o.findIndex(function(L){return L}),C=e.slice(0,x);!a&&!r.startsWith(C)&&(a=C,r=C+r,n=n+C.length);for(var S=r.length,D=e.length,h={},j=new Array(S),b=0;b<S;b++){j[b]=-1;for(var v=0,p=D;v<p;v++){var N=d({currentValue:r,lastValue:a,formattedValue:e,currentValueIndex:b,formattedValueIndex:v});if(N&&h[v]!==!0){j[b]=v,h[v]=!0;break}}}for(var u=n;u<S&&(j[u]===-1||!s(r[u]));)u++;var B=u===S||j[u]===-1?D:j[u];for(u=n-1;u>0&&j[u]===-1;)u--;var _=u===-1||j[u]===-1?0:j[u]+1;return _>B?B:n-_<B-n?_:B}function Me(e,a,r,n){var o=e.length;if(a=ht(a,0,o),n==="left"){for(;a>=0&&!r[a];)a--;a===-1&&(a=r.indexOf(!0))}else{for(;a<=o&&!r[a];)a++;a>o&&(a=r.lastIndexOf(!0))}return a===-1&&(a=o),a}function yt(e){for(var a=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=a.length;r<n;r++)a[r]=!!(je(e[r])||je(e[r-1]));return a}function ze(e,a,r,n,o,s){s===void 0&&(s=oe);var d=vt(function(v,p){var N,u;return Ge(v)?(u="",N=""):typeof v=="number"||p?(u=typeof v=="number"?We(v):v,N=n(u)):(u=o(v,void 0),N=n(u)),{formattedValue:N,numAsString:u}}),x=y.useState(function(){return d(he(e)?a:e,r)}),C=x[0],S=x[1],D=function(v,p){v.formattedValue!==C.formattedValue&&S({formattedValue:v.formattedValue,numAsString:v.value}),s(v,p)},h=e,j=r;he(e)&&(h=C.numAsString,j=!0);var b=d(h,j);return y.useMemo(function(){S(b)},[b.formattedValue]),[C,D]}function St(e){return e.replace(/[^0-9]/g,"")}function bt(e){return e}function Dt(e){var a=e.type;a===void 0&&(a="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,o=e.renderText,s=e.getInputRef,d=e.format;d===void 0&&(d=bt);var x=e.removeFormatting;x===void 0&&(x=St);var C=e.defaultValue,S=e.valueIsNumericString,D=e.onValueChange,h=e.isAllowed,j=e.onChange;j===void 0&&(j=oe);var b=e.onKeyDown;b===void 0&&(b=oe);var v=e.onMouseUp;v===void 0&&(v=oe);var p=e.onFocus;p===void 0&&(p=oe);var N=e.onBlur;N===void 0&&(N=oe);var u=e.value,B=e.getCaretBoundary;B===void 0&&(B=yt);var _=e.isValidInputCharacter;_===void 0&&(_=je);var L=e.isCharacterSame,W=He(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),H=ze(u,C,!!S,d,x,D),Q=H[0],V=Q.formattedValue,G=Q.numAsString,Y=H[1],q=y.useRef(),ee=y.useRef({formattedValue:V,numAsString:G}),Z=function(l,c){ee.current={formattedValue:l.formattedValue,numAsString:l.value},Y(l,c)},re=y.useState(!1),se=re[0],g=re[1],f=y.useRef(null),E=y.useRef({setCaretTimeout:null,focusTimeout:null});y.useEffect(function(){return g(!0),function(){clearTimeout(E.current.setCaretTimeout),clearTimeout(E.current.focusTimeout)}},[]);var O=d,k=function(l,c){var m=parseFloat(c);return{formattedValue:l,value:c,floatValue:isNaN(m)?void 0:m}},R=function(l,c,m){l.selectionStart===0&&l.selectionEnd===l.value.length||(ue(l,c),E.current.setCaretTimeout=setTimeout(function(){l.value===m&&l.selectionStart!==c&&ue(l,c)},0))},T=function(l,c,m){return Me(l,c,B(l),m)},K=function(l,c,m){var I=B(c),z=jt(c,V,l,m,I,_,L);return z=Me(c,z,I),z},ve=function(l){var c=l.formattedValue;c===void 0&&(c="");var m=l.input,I=l.source,z=l.event,F=l.numAsString,w;if(m){var te=l.inputValue||m.value,ne=Ee(m);m.value=c,w=K(te,c,ne),w!==void 0&&R(m,w,c)}c!==V&&Z(k(c,F),{event:z,source:I})};y.useEffect(function(){var l=ee.current,c=l.formattedValue,m=l.numAsString;(V!==c||G!==m)&&Z(k(V,G),{event:void 0,source:Ce.props})},[V,G]);var le=f.current?Ee(f.current):void 0,me=typeof window<"u"?y.useLayoutEffect:y.useEffect;me(function(){var l=f.current;if(V!==ee.current.formattedValue&&l){var c=K(ee.current.formattedValue,V,le);l.value=V,R(l,c,V)}},[V]);var xe=function(l,c,m){var I=c.target,z=q.current?gt(q.current,I.selectionEnd):Ze(V,l),F=Object.assign(Object.assign({},z),{lastValue:V}),w=x(l,F),te=O(w);if(w=x(te,void 0),h&&!h(k(te,w))){var ne=c.target,ie=Ee(ne),we=K(l,V,ie);return ne.value=V,R(ne,we,V),!1}return ve({formattedValue:te,numAsString:w,inputValue:l,event:c,source:m,input:c.target}),!0},pe=function(l,c){c===void 0&&(c=0);var m=l.selectionStart,I=l.selectionEnd;q.current={selectionStart:m,selectionEnd:I+c}},ye=function(l){var c=l.target,m=c.value,I=xe(m,l,Ce.event);I&&j(l),q.current=void 0},De=function(l){var c=l.target,m=l.key,I=c.selectionStart,z=c.selectionEnd,F=c.value;F===void 0&&(F="");var w;m==="ArrowLeft"||m==="Backspace"?w=Math.max(I-1,0):m==="ArrowRight"?w=Math.min(I+1,F.length):m==="Delete"&&(w=I);var te=0;m==="Delete"&&I===z&&(te=1);var ne=m==="ArrowLeft"||m==="ArrowRight";if(w===void 0||I!==z&&!ne){b(l),pe(c,te);return}var ie=w;if(ne){var we=m==="ArrowLeft"?"left":"right";ie=T(F,w,we),ie!==w&&l.preventDefault()}else m==="Delete"&&!_(F[w])?ie=T(F,w,"right"):m==="Backspace"&&!_(F[w])&&(ie=T(F,w,"left"));ie!==w&&R(c,ie,F),b(l),pe(c,te)},Ie=function(l){var c=l.target,m=function(){var I=c.selectionStart,z=c.selectionEnd,F=c.value;if(F===void 0&&(F=""),I===z){var w=T(F,I);w!==I&&R(c,w,F)}};m(),requestAnimationFrame(function(){m()}),v(l),pe(c)},i=function(l){l.persist&&l.persist();var c=l.target,m=l.currentTarget;f.current=c,E.current.focusTimeout=setTimeout(function(){var I=c.selectionStart,z=c.selectionEnd,F=c.value;F===void 0&&(F="");var w=T(F,I);w!==I&&!(I===0&&z===F.length)&&R(c,w,F),p(Object.assign(Object.assign({},l),{currentTarget:m}))},0)},M=function(l){f.current=null,clearTimeout(E.current.focusTimeout),clearTimeout(E.current.setCaretTimeout),N(l)},$=se&&xt()?"numeric":void 0,X=Object.assign({inputMode:$},W,{type:a,value:V,onChange:ye,onKeyDown:De,onMouseUp:Ie,onFocus:i,onBlur:M});if(r==="text")return o?de.createElement(de.Fragment,null,o(V,W)||null):de.createElement("span",Object.assign({},W,{ref:s}),V);if(n){var ge=n;return de.createElement(ge,Object.assign({},X,{ref:s}))}return de.createElement("input",Object.assign({},X,{ref:s}))}function Pe(e,a){var r=a.decimalScale,n=a.fixedDecimalScale,o=a.prefix;o===void 0&&(o="");var s=a.suffix;s===void 0&&(s="");var d=a.allowNegative,x=a.thousandsGroupStyle;if(x===void 0&&(x="thousand"),e===""||e==="-")return e;var C=be(a),S=C.thousandSeparator,D=C.decimalSeparator,h=r!==0&&e.indexOf(".")!==-1||r&&n,j=Oe(e,d),b=j.beforeDecimal,v=j.afterDecimal,p=j.addNegation;return r!==void 0&&(v=$e(v,r,!!n)),S&&(b=ft(b,S,x)),o&&(b=o+b),s&&(v=v+s),p&&(b="-"+b),e=b+(h&&D||"")+v,e}function be(e){var a=e.decimalSeparator;a===void 0&&(a=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[a,"."]),{decimalSeparator:a,thousandSeparator:r,allowedDecimalSeparators:n}}function It(e,a){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),o=r.test(e),s=n.test(e);return e=e.replace(/-/g,""),o&&!s&&a&&(e="-"+e),e}function wt(e,a){return new RegExp("(^-)|[0-9]|"+Ke(e),"g")}function Nt(e,a,r){return e===""?!0:!(a!=null&&a.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Vt(e,a,r){var n;a===void 0&&(a=pt(e));var o=r.allowNegative,s=r.prefix;s===void 0&&(s="");var d=r.suffix;d===void 0&&(d="");var x=r.decimalScale,C=a.from,S=a.to,D=S.start,h=S.end,j=be(r),b=j.allowedDecimalSeparators,v=j.decimalSeparator,p=e[h]===v;if(je(e)&&(e===s||e===d)&&a.lastValue==="")return e;if(h-D===1&&b.indexOf(e[D])!==-1){var N=x===0?"":v;e=e.substring(0,D)+N+e.substring(D+1,e.length)}var u=function(f,E,O){var k=!1,R=!1;s.startsWith("-")?k=!1:f.startsWith("--")?(k=!1,R=!0):d.startsWith("-")&&f.length===d.length?k=!1:f[0]==="-"&&(k=!0);var T=k?1:0;return R&&(T=2),T&&(f=f.substring(T),E-=T,O-=T),{value:f,start:E,end:O,hasNegation:k}},B=u(e,D,h),_=B.hasNegation;n=B,e=n.value,D=n.start,h=n.end;var L=u(a.lastValue,C.start,C.end),W=L.start,H=L.end,Q=L.value,V=e.substring(D,h);e.length&&Q.length&&(W>Q.length-d.length||H<s.length)&&!(V&&d.startsWith(V))&&(e=Q);var G=0;e.startsWith(s)?G+=s.length:D<s.length&&(G=D),e=e.substring(G),h-=G;var Y=e.length,q=e.length-d.length;e.endsWith(d)?Y=q:(h>q||h>e.length-d.length)&&(Y=h),e=e.substring(0,Y),e=It(_?"-"+e:e,o),e=(e.match(wt(v))||[]).join("");var ee=e.indexOf(v);e=e.replace(new RegExp(Ke(v),"g"),function(f,E){return E===ee?".":""});var Z=Oe(e,o),re=Z.beforeDecimal,se=Z.afterDecimal,g=Z.addNegation;return S.end-S.start<C.end-C.start&&re===""&&p&&!parseFloat(se)&&(e=g?"-":""),e}function Et(e,a){var r=a.prefix;r===void 0&&(r="");var n=a.suffix;n===void 0&&(n="");var o=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";o.fill(!1,0,r.length+(s?1:0));var d=e.length;return o.fill(!1,d-n.length+1,d+1),o}function At(e){var a=be(e),r=a.thousandSeparator,n=a.decimalSeparator,o=e.prefix;o===void 0&&(o="");var s=e.allowNegative;if(s===void 0&&(s=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function Ft(e){e=At(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var a=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=oe);var s=e.onBlur;s===void 0&&(s=oe);var d=e.thousandSeparator,x=e.decimalScale,C=e.fixedDecimalScale,S=e.prefix;S===void 0&&(S="");var D=e.defaultValue,h=e.value,j=e.valueIsNumericString,b=e.onValueChange,v=He(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),p=be(e),N=p.decimalSeparator,u=p.allowedDecimalSeparators,B=function(g){return Pe(g,e)},_=function(g,f){return Vt(g,f,e)},L=he(h)?D:h,W=j??Nt(L,S,a);he(h)?he(D)||(W=W||typeof D=="number"):W=W||typeof h=="number";var H=function(g){return Ge(g)?g:(typeof g=="number"&&(g=We(g)),W&&typeof x=="number"?Le(g,x,!!C):g)},Q=ze(H(h),H(D),!!W,B,_,b),V=Q[0],G=V.numAsString,Y=V.formattedValue,q=Q[1],ee=function(g){var f=g.target,E=g.key,O=f.selectionStart,k=f.selectionEnd,R=f.value;if(R===void 0&&(R=""),(E==="Backspace"||E==="Delete")&&k<S.length){g.preventDefault();return}if(O!==k){o(g);return}E==="Backspace"&&R[0]==="-"&&O===S.length+1&&r&&ue(f,1),x&&C&&(E==="Backspace"&&R[O-1]===N?(ue(f,O-1),g.preventDefault()):E==="Delete"&&R[O]===N&&g.preventDefault()),u!=null&&u.includes(E)&&R[O]===N&&ue(f,O+1);var T=d===!0?",":d;E==="Backspace"&&R[O-1]===T&&ue(f,O-1),E==="Delete"&&R[O]===T&&ue(f,O+1),o(g)},Z=function(g){var f=G;if(f.match(/\d/g)||(f=""),n||(f=mt(f)),C&&x&&(f=Le(f,x,C)),f!==G){var E=Pe(f,e);q({formattedValue:E,value:f,floatValue:parseFloat(f)},{event:g,source:Ce.event})}s(g)},re=function(g){return g===N?!0:je(g)},se=function(g){var f=g.currentValue,E=g.lastValue,O=g.formattedValue,k=g.currentValueIndex,R=g.formattedValueIndex,T=f[k],K=O[R],ve=Ze(E,f),le=ve.to,me=function(xe){return _(xe).indexOf(".")+S.length};return h===0&&C&&x&&f[le.start]===N&&me(f)<k&&me(O)>R?!1:k>=le.start&&k<le.end&&u&&u.includes(T)&&K===N?!0:T===K};return Object.assign(Object.assign({},v),{value:Y,valueIsNumericString:!1,isValidInputCharacter:re,isCharacterSame:se,onValueChange:q,format:B,removeFormatting:_,getCaretBoundary:function(g){return Et(g,e)},onKeyDown:ee,onBlur:Z})}function Rt(e){var a=Ft(e);return de.createElement(Dt,Object.assign({},a))}const Ot=({closeModal:e})=>{const[a,r]=y.useState(!1),n="Esse campo é obrigatório.",o=d=>{d.currentTarget.checkValidity()===!1&&(d.preventDefault(),d.stopPropagation()),r(!0)},s=()=>{e()};return t.jsx(Fe,{children:t.jsx(P,{xs:12,children:t.jsxs(_e,{className:"mb-4",children:[t.jsx(Ue,{children:t.jsx("strong",{children:"Tabela de Motoristas"})}),t.jsx(Re,{children:t.jsxs(tt,{className:"row g-3 needs-validation",noValidate:!0,validated:a,onSubmit:o,children:[t.jsxs(P,{md:12,children:[t.jsx(J,{htmlFor:"validationCustom01",children:"Cliente/Fornecedor"}),t.jsxs(Ae,{children:[t.jsx(fe,{type:"button",color:"secondary",variant:"ghost",id:"inputGroupFileAddon03",style:{height:"40px",width:"40px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#3d99f5"},children:t.jsx(Ve,{icon:Te,style:{height:"20px",width:"20px",backgroundColor:"#3d99f5","--ci-primary-color":"white"}})}),t.jsx(U,{type:"text",id:"validationCustom01",defaultValue:"Mark",required:!0}),t.jsx(fe,{type:"button",color:"secondary",variant:"ghost",id:"inputGroupFileAddon03",style:{height:"40px",width:"40px",backgroundColor:"red",display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(Ve,{icon:nt,style:{height:"20px",width:"20px","--ci-primary-color":"white"}})}),t.jsx(ce,{valid:!0})]})]}),t.jsxs(P,{md:6,children:[t.jsx(J,{htmlFor:"validationCustomUsername",children:"Forma de Pagamento"}),t.jsxs(Ae,{children:[t.jsx(fe,{type:"button",color:"secondary",variant:"ghost",id:"inputGroupFileAddon03",style:{height:"40px",width:"40px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#249542"},children:t.jsx(Ve,{icon:Te,size:"lg",style:{height:"20px",width:"20px","--ci-primary-color":"white"}})}),t.jsxs(qe,{id:"validationCustom04",children:[t.jsx("option",{disabled:!0,children:"Choose..."}),t.jsx("option",{children:"..."})]})]}),t.jsx(ce,{invalid:!0,children:"Please provide a valid option."})]}),t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Número Identificador"}),t.jsx(U,{type:"text",id:"validationCustom05",required:!0}),t.jsx(ce,{invalid:!0,children:n})]}),t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Número Documento"}),t.jsx(U,{type:"text",id:"validationCustom05",required:!0}),t.jsx(ce,{invalid:!0,children:n})]}),t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Valor"}),t.jsx(Rt,{id:"validationCustom05",customInput:U,thousandSeparator:".",decimalSeparator:",",prefix:"R$ ",decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,required:!0}),t.jsx(ce,{invalid:!0,children:n})]}),t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Parcelas"}),t.jsx(U,{type:"text",id:"validationCustom05"})]}),t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Competência"}),t.jsx(U,{type:"date",id:"validationCustom05",required:!0}),t.jsx(ce,{invalid:!0,children:n})]}),t.jsxs(P,{md:2,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Emissão"}),t.jsx(U,{type:"date",id:"validationCustom05",required:!0}),t.jsx(ce,{invalid:!0,children:n})]}),t.jsxs(P,{md:6,children:[t.jsx(J,{htmlFor:"validationCustom05",children:"Observação"}),t.jsx(U,{type:"text",id:"validationCustom05"})]}),t.jsx(it,{handleCancel:s})]})})]})})})},Mt=()=>{const[e,a]=y.useState(!1),r=()=>{a(!0)},n=()=>{a(!1)};return t.jsx(Fe,{children:t.jsxs(P,{xs:12,children:[t.jsx(Re,{}),t.jsx(lt,{openModal:r}),t.jsx(at,{visible:e,onClose:n,size:"xl",children:t.jsx(rt,{children:t.jsx(Ot,{closeModal:n})})})]})})};export{Mt as default};
